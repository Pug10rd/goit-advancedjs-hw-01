{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst LOCAL_STORAGE_FORM_KEY = 'feedback-form-state';\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst fillFormFields = feedbackForm => {\n  try {\n    const formDataFromLS = JSON.parse(\n      localStorage.getItem(LOCAL_STORAGE_FORM_KEY)\n    );\n\n    if (formDataFromLS === null) {\n      return;\n    }\n\n    formData = formDataFromLS;\n    const formDataKeys = Object.keys(formData);\n    formDataKeys.forEach(key => {\n      feedbackForm.elements[key].value = formData[key];\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nfillFormFields(form);\n\nform.addEventListener('input', ({ target: formField }) => {\n  formData[formField.name] = formField.value;\n  localStorage.setItem(LOCAL_STORAGE_FORM_KEY, JSON.stringify(formData));\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (formData.message === '' || formData.email === '') {\n    return alert('Fill please all fields');\n  }\n  e.target.reset();\n  localStorage.removeItem(LOCAL_STORAGE_FORM_KEY);\n  formData = {};\n});\n"],"names":["form","LOCAL_STORAGE_FORM_KEY","formData","fillFormFields","feedbackForm","formDataFromLS","key","error","formField","e"],"mappings":"oDAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAyB,sBAE/B,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAiBC,GAAgB,CACrC,GAAI,CACF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQJ,CAAsB,CACjD,EAEI,GAAII,IAAmB,KACrB,OAGFH,EAAWG,EACU,OAAO,KAAKH,CAAQ,EAC5B,QAAQI,GAAO,CAC1BF,EAAa,SAASE,CAAG,EAAE,MAAQJ,EAASI,CAAG,CACrD,CAAK,CACF,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEAJ,EAAeH,CAAI,EAEnBA,EAAK,iBAAiB,QAAS,CAAC,CAAE,OAAQQ,CAAS,IAAO,CACxDN,EAASM,EAAU,IAAI,EAAIA,EAAU,MACrC,aAAa,QAAQP,EAAwB,KAAK,UAAUC,CAAQ,CAAC,CACvE,CAAC,EAEDF,EAAK,iBAAiB,SAAUS,GAAK,CAGnC,GAFAA,EAAE,eAAc,EAEZP,EAAS,UAAY,IAAMA,EAAS,QAAU,GAChD,OAAO,MAAM,wBAAwB,EAEvCO,EAAE,OAAO,QACT,aAAa,WAAWR,CAAsB,EAC9CC,EAAW,CAAA,CACb,CAAC"}